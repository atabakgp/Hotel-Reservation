(function(e){function t(t){for(var i,n,o=t[0],c=t[1],l=t[2],u=0,v=[];u<o.length;u++)n=o[u],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&v.push(s[n][0]),s[n]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);d&&d(t);while(v.length)v.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],i=!0,o=1;o<a.length;o++){var c=a[o];0!==s[c]&&(i=!1)}i&&(r.splice(t--,1),e=n(n.s=a[0]))}return e}var i={},s={app:0},r=[];function n(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=i,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var d=c;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"011e":function(e,t,a){},"20ac":function(e,t,a){},4045:function(e,t,a){"use strict";a("ae52")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("Header"),e.finishReservation?a("Preview",{on:{showDialog:e.showDialog,toStep:e.changeStep}}):a("v-stepper",{model:{value:e.steps,callback:function(t){e.steps=t},expression:"steps"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{editable:e.steps>0,step:"1"}},[e._v(" Otel ve tarihi secimi ")]),a("v-divider"),a("v-stepper-step",{attrs:{editable:e.steps>1,step:"2"}},[e._v(" Oda tipi ve manzara secimi ")]),a("v-divider"),a("v-stepper-step",{attrs:{editable:e.steps>2,step:"3"}},[e._v(" Onizleme ve odeme islemleri ")])],1),a("v-stepper-items",[a("v-stepper-content",{attrs:{step:"1"}},[a("Hotels",{on:{showDialog:e.showDialog,toStep:e.changeStep}})],1),a("v-stepper-content",{attrs:{step:"2"}},[a("hotelDetails",{on:{showDialog:e.showDialog,toStep:e.changeStep}})],1),a("v-stepper-content",{attrs:{step:"3"}},[a("Checkout",{on:{showDialog:e.showDialog,toStep:e.changeStep}})],1)],1)],1),a("v-dialog",{staticClass:"dialog",attrs:{width:"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",{class:{"dialog-success":e.dialogSuccess}},[a("div",{staticClass:"dialog-header d-flex justify-center py-3 mb-8"},[a("h2",{staticClass:"dialog-header-title"},[e._v("UYARI")])]),a("v-card-text",e._l(e.dialogMessage,(function(t,i){return a("p",{key:i,staticClass:"dialog-text"},[a("v-icon",{staticClass:"dialog-icons mr-2",attrs:{color:e.dialogSuccess?"success":"error"}},[e._v(e._s(e.dialogSuccess?"mdi-checkbox-marked-circle-outline":"mdi-alert-circle-outline"))]),e._v(e._s(t)+" ")],1)})),0),a("v-divider"),a("div",{staticClass:"d-flex justify-end pa-4"},[a("v-btn",{staticClass:"pa-3",attrs:{color:"secondary"},on:{click:function(t){e.dialog=!1}}},[e._v("Tamam")])],1)],1)],1)],1)},r=[],n=a("5530"),o=(a("a9e3"),function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)}),c=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",{staticClass:"purple darken-2"},[a("div",{staticClass:"white--text"},[a("strong",[e._v(" Otel ")]),a("small",[e._v("Rezervasyon sistemi")])])])}],l={name:"Header",data:function(){return{}}},d=l,u=(a("bb80"),a("2877")),v=Object(u["a"])(d,o,c,!1,null,"08dd71b6",null),m=v.exports,p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-select",{attrs:{items:e.hotels,label:"Rezervasyon yapmak istediginiz oteli seciniz","item-text":"hotel_name","item-value":"id"},model:{value:e.reservationDetails.hotel_id,callback:function(t){e.$set(e.reservationDetails,"hotel_id",t)},expression:"reservationDetails.hotel_id"}}),a("div",{staticClass:"hotel-checkins"},[a("div",{staticClass:"hotel-checkins__item"},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,s=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Giris Tarihi","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.reservationDetails.start_date,callback:function(t){e.$set(e.reservationDetails,"start_date",t)},expression:"reservationDetails.start_date"}},"v-text-field",s,!1),i))]}}]),model:{value:e.menu1,callback:function(t){e.menu1=t},expression:"menu1"}},[a("v-date-picker",{attrs:{"allowed-dates":e.allowedDatesIn},on:{input:function(t){e.menu1=!1}},model:{value:e.reservationDetails.start_date,callback:function(t){e.$set(e.reservationDetails,"start_date",t)},expression:"reservationDetails.start_date"}})],1)],1),a("div",{staticClass:"hotel-checkins__item"},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,s=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Cikis tarihi","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.reservationDetails.end_date,callback:function(t){e.$set(e.reservationDetails,"end_date",t)},expression:"reservationDetails.end_date"}},"v-text-field",s,!1),i))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[a("v-date-picker",{attrs:{"allowed-dates":e.allowedDatesOut},on:{input:function(t){e.menu2=!1}},model:{value:e.reservationDetails.end_date,callback:function(t){e.$set(e.reservationDetails,"end_date",t)},expression:"reservationDetails.end_date"}})],1)],1),a("div",{staticClass:"hotel-checkins__item"},[a("v-text-field",{attrs:{type:"number",min:"0",max:e.hotelDetail?e.hotelDetail.max_adult_size:0,label:"yetiskin sayisi"},model:{value:e.reservationDetails.adult,callback:function(t){e.$set(e.reservationDetails,"adult",t)},expression:"reservationDetails.adult"}})],1),a("div",{staticClass:"hotel-checkins__item"},[a("v-text-field",{attrs:{type:"number",min:"0",max:"5",label:"cocuk sayisi",disabled:!e.child_status},model:{value:e.reservationDetails.child,callback:function(t){e.$set(e.reservationDetails,"child",t)},expression:"reservationDetails.child"}}),e.child_status?e._e():a("v-alert",{attrs:{type:"warning"}},[e._v(" Çocuk ziyaretçi kabul edilmiyor! ")])],1)]),a("div",{staticClass:"hotel-checkins__btn"},[a("v-btn",{attrs:{color:"primary"},on:{click:e.checkValidation}},[e._v("Kaydet ve Devam et")])],1)],1)},_=[],h=a("2f62"),f=(a("d3b7"),a("bc3a")),b=a.n(f),g=b.a.create({baseURL:"https://5f6d939160cf97001641b049.mockapi.io/tkn/"});g.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}));var y=function(){return g.get("hotels")},C=function(){return g.get("hotel-details")},D=function(e){return g.get("coupons?code="+e)},k=function(e){return g.post("hotel-bookings",e)},x=function(e,t){return g.put("hotel-bookings/"+t,e)},w=function(e){return g.delete("hotel-bookings/"+e)},S={getHotels:y,getHotelDetails:C,getCoupons:D,submitReservation:k,updateReservation:x,deleteReservation:w},N={name:"Hotels",data:function(){return{max_adult_size:0,modal:!1,menu1:!1,menu2:!1}},computed:Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(h["c"])({hotels:function(e){return e.hotels},reservationDetails:function(e){return e.reservationDetails}})),Object(h["b"])(["hotelDetail"])),{},{child_status:function(){return!this.hotelDetail||this.hotelDetail.child_status}}),methods:{checkValidation:function(){null==this.reservationDetails.hotel_id?this.$emit("showDialog",{messages:["Lütfen bir otel seciniz"]}):null==this.reservationDetails.start_date||null==this.reservationDetails.end_date?this.$emit("showDialog",{messages:["Lütfen giris ve cikis tarihlerini seciniz"]}):0==this.reservationDetails.adult?this.$emit("showDialog",{messages:["Lütfen yetiskin sayisi seciniz"]}):(localStorage.setItem("reservationDetails",JSON.stringify(this.reservationDetails)),this.$emit("toStep",2))},allowedDatesOut:function(e){return new Date(e)>new Date(this.reservationDetails.start_date)},allowedDatesIn:function(e){return new Date(e)>=Date.now()}},mounted:function(){var e=this;S.getHotels().then((function(t){e.$store.dispatch("getHotels",t.data)})).catch((function(e){console.log(e)})),S.getHotelDetails().then((function(t){e.$store.dispatch("hotelDetails",t.data)})).catch((function(e){console.log(e)}))}},$=N,T=(a("c2f4"),a("6544")),O=a.n(T),j=a("0798"),I=a("8336"),z=a("2e4b"),R=a("e449"),P=a("b974"),M=a("8654"),V=Object(u["a"])($,p,_,!1,null,null,null),Y=V.exports;O()(V,{VAlert:j["a"],VBtn:I["a"],VDatePicker:z["a"],VMenu:R["a"],VSelect:P["a"],VTextField:M["a"]});var H=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hotel-details"},[a("div",{staticClass:"hotel-details__checkin"},[a("h3",[e._v(" "+e._s(e.hotelName)+" "),a("small",[e._v("( "+e._s(e.cityName)+" )")])]),a("span",[a("b",[e._v("Giris Tarihi:")]),e._v(" "+e._s(e.reservationDetails.start_date)+" ")]),a("span",[a("b",[e._v("Cikis Tarihi:")]),e._v(" "+e._s(e.reservationDetails.end_date)+" ")]),a("span",[a("b",[e._v("Yetiskin:")]),e._v(" "+e._s(e.reservationDetails.adult)+" ")]),a("span",[a("b",[e._v("cocuk:")]),e._v(" "+e._s(e.reservationDetails.child)+" ")])]),a("div",{staticClass:"hotel-details__title"},[e._v("Oda tipi Secimi")]),a("div",{staticClass:"hotel-details__rooms"},e._l(e.roomTypes,(function(t){return a("div",{key:t.id,staticClass:"hotel-details__rooms-type"},[a("label",[e._v(" "+e._s(t.title)+" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.reservationDetails.room_type,expression:"reservationDetails.room_type"}],attrs:{type:"radio",name:"roomType"},domProps:{value:t.id,checked:e._q(e.reservationDetails.room_type,t.id)},on:{change:function(a){return e.$set(e.reservationDetails,"room_type",t.id)}}}),a("figure",[a("img",{attrs:{src:t.photo,alt:t.title}}),a("figcaption",{staticClass:"hotel-details__figcaption"},[a("div",{staticClass:"hotel-details__counts"},[a("div",{staticClass:"hotel-details__days"},[e._v(e._s(e.days)+" Gün")]),a("div",{staticClass:"hotel-details__adult"},[e._v(" "+e._s(e.reservationDetails.adult)+" "),a("span",[e._v("Yetiskin")])])]),a("div",{staticClass:"hotel-details__price"},[e._v(e._s(e.$helpers.formatCurrency(e.getRoomTypePrice(t.price))))])])])])])})),0),a("div",{staticClass:"hotel-details__title"},[e._v(" Manzara Seçimi ")]),a("div",{staticClass:"hotel-details__rooms"},e._l(e.roomScenics,(function(t){return a("div",{key:t.id,staticClass:"hotel-details__rooms-type"},[a("label",[e._v(" "+e._s(t.title)+" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.reservationDetails.room_scenic,expression:"reservationDetails.room_scenic"}],attrs:{type:"radio",name:"roomScenic"},domProps:{value:t.id,checked:e._q(e.reservationDetails.room_scenic,t.id)},on:{change:function(a){return e.$set(e.reservationDetails,"room_scenic",t.id)}}}),a("figure",[a("img",{attrs:{src:t.photo,alt:t.title}}),a("figcaption",{staticClass:"hotel-details__figcaption "},[a("span",[e._v("Fiyata etki orani")]),a("span",[e._v("+"+e._s(t.price_rate)+"%")])])])])])})),0),a("div",{staticClass:"d-flex justify-space-between"},[a("v-btn",{staticClass:"pa-3 ma-3",attrs:{color:"secondary",elevation:"2"},on:{click:function(t){return e.$emit("toStep",1)}}},[e._v("Geri")]),a("v-btn",{staticClass:"pa-3 ma-3",attrs:{color:"primary",elevation:"2"},on:{click:e.roomValidation}},[e._v("Kaydet ve Devam et")])],1)])},E=[],F={name:"HotelDetails",computed:Object(n["a"])(Object(n["a"])({},Object(h["b"])(["hotelName","cityName","roomTypes","roomScenics","days","roomPriceWithDays","rate","roomPriceWithScenic"])),Object(h["c"])(["reservationDetails"])),methods:{getRoomTypePrice:function(e){return e*this.days*this.reservationDetails.adult},roomValidation:function(){if(null!=this.reservationDetails.room_type&&null!=this.reservationDetails.room_scenic){var e={room_type:this.reservationDetails.room_type,room_scenic:this.reservationDetails.room_scenic,price:this.roomPriceWithScenic};this.$store.commit("reservationDetails",e),localStorage.setItem("reservationDetails",JSON.stringify(this.reservationDetails)),this.$emit("toStep",3)}else this.$emit("showDialog",{messages:[this.reservationDetails.room_type?this.reservationDetails.room_scenic?"":"Lütfen odanızın manzarasını seçiniz!":"Lütfen odanızın tipini seçiniz!"]})}}},U=F,B=(a("4045"),Object(u["a"])(U,H,E,!1,null,"52bcfb52",null)),L=B.exports;O()(B,{VBtn:I["a"]});var A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"checkout"},[a("v-container",[a("v-row",[a("v-col",{staticClass:"col-md-8 col-12 px-0"},[a("PayCard")],1),a("v-col",{staticClass:"checkout__right col-md-4 col-12"},[a("div",{staticClass:"checkout__hotel"},[a("b",[e._v(e._s(e.hotelName))]),a("span",[e._v(" ("+e._s(e.cityName)+") ")])]),a("div",{staticClass:"checkout__details d-flex text-center"},[a("div",{staticClass:"checkout__box"},[a("b",[e._v(" Giris Tarihi:")]),e._v(" "),a("br"),a("span",[e._v(e._s(e.reservationDetails.start_date))])]),a("div",{staticClass:"checkout__box"},[a("b",[e._v("Cikis Tarihi:")]),e._v(" "),a("br"),a("span",[e._v(e._s(e.reservationDetails.end_date))])]),a("div",{staticClass:"checkout__box"},[a("b",[e._v("Yetiskin: ")]),e._v(" "),a("br"),a("span",[e._v(e._s(e.reservationDetails.adult))])]),a("div",{staticClass:"checkout__box"},[a("b",[e._v("Cocuk: ")]),e._v(" "),a("br"),a("span",[e._v(e._s(e.reservationDetails.child))])]),a("div",{staticClass:"checkout__box"},[a("b",[e._v("Oda tipi: ")]),e._v(" "),a("br"),a("span",[e._v(e._s(e.roomTitle))])]),a("div",{staticClass:"checkout__box"},[a("b",[e._v("Manzara: ")]),e._v(" "),a("br"),a("span",[e._v(e._s(e.scenicTitle))])])]),a("div",{staticClass:"checkout__coupon d-flex"},[a("v-text-field",{attrs:{label:"Kupon kodu"},model:{value:e.userCoupon,callback:function(t){e.userCoupon=t},expression:"userCoupon"}}),a("v-btn",{staticClass:"pa-3 ma-3",attrs:{color:"primary"},on:{click:e.getCoupon}},[e._v(" Kodu Kullan ")])],1),a("div",{staticClass:"checkout__price-details pb-2"},[a("div",{staticClass:"py-1 d-flex justify-space-between"},[a("b",[e._v("Oda Fiyati:")]),a("span",[e._v(e._s(e.$helpers.formatCurrency(e.roomUnitPrice)))])]),a("div",{staticClass:"py-1 d-flex justify-space-between"},[a("b",[e._v("Fiyat Etki Orani:")]),a("span",[e._v("%"+e._s(e.rate)+" ")])]),a("div",{staticClass:"py-1 d-flex justify-space-between"},[a("b",[e._v("Konaklama ("+e._s(e.days)+" Gün):")]),a("span",[e._v(e._s(e.$helpers.formatCurrency(e.roomPriceWithDays)))])]),e.coupon?a("div",{staticClass:"py-1 d-flex justify-space-between"},[a("b",[e._v("indirim ("+e._s(e.coupon.code)+"):")]),a("span",[e._v("-"+e._s(e.$helpers.formatCurrency(e.coupon.discount_ammount)))])]):e._e(),a("div",{staticClass:"total-price text-center"},[a("b",[e._v("TOPLAM TUTAR")]),e._v(" "),a("br"),a("b",[e._v(" "+e._s(e.$helpers.formatCurrency(e.reservationDetails.price))+" ")])])])])],1)],1),a("div",{staticClass:"d-flex justify-space-between"},[a("v-btn",{staticClass:"pa-3 ma-3",attrs:{color:"primary",elevation:"2"},on:{click:function(t){return e.$emit("toStep",2)}}},[e._v(" Geri")]),a("v-btn",{staticClass:"pa-3 ma-3",attrs:{color:"primary",elevation:"2"},on:{click:e.submit}},[e._v("Ödeme yap ve bitir")])],1)],1)},W=[],K=(a("4de4"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper card d-flex justify-center px-0"},[a("div",{staticClass:"card-form"},[a("div",{staticClass:"card-list"},[a("div",{staticClass:"card-item",class:{"-active":e.isCardFlipped}},[a("div",{staticClass:"card-item__side -front"},[a("div",{ref:"focusElement",staticClass:"card-item__focus",class:{"-active":e.focusElementStyle},style:e.focusElementStyle}),a("div",{staticClass:"card-item__cover"},[a("img",{staticClass:"card-item__bg",attrs:{src:"https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/"+e.currentCardBackground+".jpeg"}})]),a("div",{staticClass:"card-item__wrapper"},[a("div",{staticClass:"card-item__top"},[a("img",{staticClass:"card-item__chip",attrs:{src:"https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/chip.png"}}),a("div",{staticClass:"card-item__type"},[a("transition",{attrs:{name:"slide-fade-up"}},[e.getCardType?a("img",{key:e.getCardType,staticClass:"card-item__typeImg",attrs:{src:"https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/"+e.getCardType+".png",alt:""}}):e._e()])],1)]),a("label",{ref:"cardNumber",staticClass:"card-item__number",attrs:{for:"cardNumber"}},["amex"===e.getCardType?e._l(e.amexCardMask,(function(t,i){return a("span",{key:i},[a("transition",{attrs:{name:"slide-fade-up"}},[i>4&&i<14&&e.cardNumber.length>i&&""!==t.trim()?a("div",{staticClass:"card-item__numberItem"},[e._v(" * ")]):e.cardNumber.length>i?a("div",{key:i,staticClass:"card-item__numberItem",class:{"-active":""===t.trim()}},[e._v(" "+e._s(e.cardNumber[i])+" ")]):a("div",{key:i+1,staticClass:"card-item__numberItem",class:{"-active":""===t.trim()}},[e._v(" "+e._s(t)+" ")])])],1)})):e._l(e.otherCardMask,(function(t,i){return a("span",{key:i},[a("transition",{attrs:{name:"slide-fade-up"}},[i>4&&i<9&&e.cardNumber.length>i&&""!==t.trim()?a("div",{staticClass:"card-item__numberItem"},[e._v(" * ")]):e.cardNumber.length>i?a("div",{key:i,staticClass:"card-item__numberItem",class:{"-active":""===t.trim()}},[e._v(" "+e._s(e.cardNumber[i])+" ")]):a("div",{key:i+1,staticClass:"card-item__numberItem",class:{"-active":""===t.trim()}},[e._v(" "+e._s(t)+" ")])])],1)}))],2),a("div",{staticClass:"card-item__content"},[a("label",{ref:"cardName",staticClass:"card-item__info",attrs:{for:"cardName"}},[a("div",{staticClass:"card-item__holder"},[e._v("Ad Soyad")]),a("transition",{attrs:{name:"slide-fade-up"}},[e.cardName.length?a("div",{key:"1",staticClass:"card-item__name"},[a("transition-group",{attrs:{name:"slide-fade-right"}},e._l(e.cardName.replace(/\s\s+/g," "),(function(t,i){return i===i?a("span",{key:i+1,staticClass:"card-item__nameItem"},[e._v(e._s(t))]):e._e()})),0)],1):a("div",{key:"2",staticClass:"card-item__name"},[e._v("XXX XXXX")])])],1),a("div",{ref:"cardDate",staticClass:"card-item__date"},[a("label",{staticClass:"card-item__dateTitle",attrs:{for:"cardMonth"}},[e._v("VALID THRU")]),a("label",{staticClass:"card-item__dateItem",attrs:{for:"cardMonth"}},[a("transition",{attrs:{name:"slide-fade-up"}},[e.cardMonth?a("span",{key:e.cardMonth},[e._v(e._s(e.cardMonth))]):a("span",{key:"2"},[e._v("MM")])])],1),e._v(" / "),a("label",{staticClass:"card-item__dateItem",attrs:{for:"cardYear"}},[a("transition",{attrs:{name:"slide-fade-up"}},[e.cardYear?a("span",{key:e.cardYear},[e._v(e._s(String(e.cardYear).slice(2,4)))]):a("span",{key:"2"},[e._v("YY")])])],1)])])])]),a("div",{staticClass:"card-item__side -back"},[a("div",{staticClass:"card-item__cover"},[a("img",{staticClass:"card-item__bg",attrs:{src:"https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/"+e.currentCardBackground+".jpeg"}})]),a("div",{staticClass:"card-item__band"}),a("div",{staticClass:"card-item__cvv"},[a("div",{staticClass:"card-item__cvvTitle"},[e._v("CVV")]),a("div",{staticClass:"card-item__cvvBand"},e._l(e.cardCvv,(function(t,i){return a("span",{key:i},[e._v(" * ")])})),0),a("div",{staticClass:"card-item__type"},[e.getCardType?a("img",{staticClass:"card-item__typeImg",attrs:{src:"https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/"+e.getCardType+".png"}}):e._e()])])])])]),a("div",{staticClass:"card-form__inner"},[a("div",{staticClass:"card-input"},[a("label",{staticClass:"card-input__label",attrs:{for:"cardNumber"}},[e._v("Kart Numarası")]),a("input",{directives:[{name:"mask",rawName:"v-mask",value:e.generateCardNumberMask,expression:"generateCardNumberMask"},{name:"model",rawName:"v-model",value:e.cardNumber,expression:"cardNumber"}],staticClass:"card-input__input",attrs:{type:"text",id:"cardNumber",maxlength:"13","data-ref":"cardNumber",autocomplete:"on"},domProps:{value:e.cardNumber},on:{focus:e.focusInput,blur:e.blurInput,input:function(t){t.target.composing||(e.cardNumber=t.target.value)}}})]),a("div",{staticClass:"card-input"},[a("label",{staticClass:"card-input__label",attrs:{for:"cardName"}},[e._v("Ad ve Soyad")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.cardName,expression:"cardName"}],staticClass:"card-input__input",attrs:{type:"text",id:"cardName","data-ref":"cardName",autocomplete:"off"},domProps:{value:e.cardName},on:{focus:e.focusInput,blur:e.blurInput,input:function(t){t.target.composing||(e.cardName=t.target.value)}}})]),a("div",{staticClass:"card-form__row"},[a("div",{staticClass:"card-form__col"},[a("div",{staticClass:"card-form__group"},[a("label",{staticClass:"card-input__label",attrs:{for:"cardMonth"}},[e._v("Son Kullanım Tarihi")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.cardMonth,expression:"cardMonth"}],staticClass:"card-input__input -select",attrs:{id:"cardMonth","data-ref":"cardDate"},on:{focus:e.focusInput,blur:e.blurInput,change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.cardMonth=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Ay")]),e._l(12,(function(t){return a("option",{key:t,attrs:{disabled:t<e.minCardMonth},domProps:{value:t<10?"0"+t:t}},[e._v(" "+e._s(t<10?"0"+t:t)+" ")])}))],2),a("select",{directives:[{name:"model",rawName:"v-model",value:e.cardYear,expression:"cardYear"}],staticClass:"card-input__input -select",attrs:{id:"cardYear","data-ref":"cardDate"},on:{focus:e.focusInput,blur:e.blurInput,change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.cardYear=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Yıl")]),e._l(12,(function(t,i){return a("option",{key:t,domProps:{value:i+e.minCardYear}},[e._v(" "+e._s(i+e.minCardYear)+" ")])}))],2)])]),a("div",{staticClass:"card-form__col -cvv"},[a("div",{staticClass:"card-input"},[a("label",{staticClass:"card-input__label",attrs:{for:"cardCvv"}},[e._v("CVV")]),a("input",{directives:[{name:"mask",rawName:"v-mask",value:"####",expression:"'####'"},{name:"model",rawName:"v-model",value:e.cardCvv,expression:"cardCvv"}],staticClass:"card-input__input",attrs:{type:"text",id:"cardCvv",maxlength:"4",autocomplete:"off"},domProps:{value:e.cardCvv},on:{focus:function(t){return e.flipCard(!0)},blur:function(t){return e.flipCard(!1)},input:function(t){t.target.composing||(e.cardCvv=t.target.value)}}})])])])])])])}),G=[],X=(a("4d63"),a("ac1f"),a("25f0"),a("466d"),a("99af"),a("b6d0"));i["a"].use(X["a"]);var J={data:function(){return{currentCardBackground:Math.floor(25*Math.random()+1),cardName:"",cardNumber:"",cardMonth:"",cardYear:"",cardCvv:"",minCardYear:(new Date).getFullYear(),amexCardMask:"#### ###### #",otherCardMask:"#### #### ###",cardNumberTemp:"",isCardFlipped:!1,focusElementStyle:null,isInputFocused:!1}},mounted:function(){this.cardNumberTemp=this.otherCardMask,document.getElementById("cardNumber").focus(),this.cardName=this.reservationDetails.card_name,this.cardNumber=this.reservationDetails.card_number,this.cardMonth=this.reservationDetails.card_date_month,this.cardYear=this.reservationDetails.card_date_year,this.cardCvv=this.reservationDetails.card_cvv},computed:Object(n["a"])(Object(n["a"])({},Object(h["c"])({reservationDetails:function(e){return e.reservationDetails}})),{},{getCardType:function(){var e=this.cardNumber,t=new RegExp("^4");return null!=e.match(t)?"visa":(t=new RegExp("^(34|37)"),null!=e.match(t)?"amex":(t=new RegExp("^5[1-5]"),null!=e.match(t)?"mastercard":(t=new RegExp("^6011"),null!=e.match(t)?"discover":(t=new RegExp("^9792"),null!=e.match(t)?"troy":"visa"))))},generateCardNumberMask:function(){return"amex"===this.getCardType?this.amexCardMask:this.otherCardMask},minCardMonth:function(){return this.cardYear===this.minCardYear?(new Date).getMonth()+1:1}}),watch:{cardYear:function(){this.cardMonth<this.minCardMonth&&(this.cardMonth="")}},methods:{flipCard:function(e){this.isCardFlipped=e,e||this.pushDetailsToStore()},focusInput:function(e){this.isInputFocused=!0;var t=e.target.dataset.ref,a=this.$refs[t];this.focusElementStyle={width:"".concat(a.offsetWidth,"px"),height:"".concat(a.offsetHeight,"px"),transform:"translateX(".concat(a.offsetLeft,"px) translateY(").concat(a.offsetTop,"px)")}},blurInput:function(){var e=this;this.pushDetailsToStore(),setTimeout((function(){e.isInputFocused||(e.focusElementStyle=null)}),300),e.isInputFocused=!1},pushDetailsToStore:function(){var e={card_name:this.cardName,card_number:this.cardNumber,card_date_month:this.cardMonth,card_date_year:this.cardYear,card_cvv:this.cardCvv};this.$store.commit("reservationDetails",e)}}},q=J,Q=(a("885b"),Object(u["a"])(q,K,G,!1,null,null,null)),Z=Q.exports,ee={components:{PayCard:Z},data:function(){return{userCoupon:""}},computed:Object(n["a"])(Object(n["a"])({},Object(h["b"])(["hotelName","cityName","roomTypes","roomScenics","days","roomTitle","scenicTitle","roomUnitPrice","rate","roomPriceWithDays"])),Object(h["c"])(["reservationDetails","coupon","reservedId","isUpdate"])),methods:{submit:function(){var e=this,t=this.$store.state.reservationDetails,a=[];for(var i in t)if(!t[i])switch(i){case"card_number":a.unshift("Lütfen kart numaranızı giriniz!");break;case"card_name":a.push("Lütfen kartınızın üzerindeki ismi giriniz!");break;case"card_date_month":a.push("Lütfen kartınızın bitiş tarihini giriniz!");break;case"card_cvv":a.push("Lütfen kartınızın güvenlik kodunu giriniz!");break;default:break}t.card_number&&13!==t.card_number.length&&a.unshift("Lütfen geçerli bir kart numarası giriniz!"),0===a.length?(localStorage.setItem("reservationDetails",JSON.stringify(this.reservationDetails)),this.isUpdate?S.updateReservation(this.reservationDetails,this.reservedId).then((function(t){e.$store.commit("reservedId",parseInt(t.data.id)),e.$store.commit("finishReservation",!0)})).catch((function(e){console.log(e)})):S.submitReservation(this.reservationDetails).then((function(t){e.$store.commit("reservedId",parseInt(t.data.id)),e.$store.commit("finishReservation",!0)})).catch((function(e){console.log(e)}))):this.$emit("showDialog",{messages:a})},getCoupon:function(){var e=this;""==this.userCoupon?this.$emit("showDialog",{messages:["Lutfen bir Kupon kodu giriniz"]}):this.coupon?this.$emit("showDialog",{messages:["Kupon kodu kullanılmıştır"]}):S.getCoupons(this.userCoupon).then((function(t){if(0==t.data.length)e.$emit("showDialog",{messages:["Bu kode ile tanimlanmis bir kupon bulunamadi, lutfen kupon kodunu tekrar kontrol edin"]});else{var a=t.data.filter((function(e){return new Date(e.expiration_at)>Date.now()}));if(a.length>0){var i=e.reservationDetails.price-a[0].discount_ammount;e.$store.commit("reservationDetails",{price:i,coupon_code:a[0].code}),e.$store.commit("coupon",a[0])}else e.$emit("showDialog",{messages:["Kupon kodu son kullanma tarihi bitmistir"]})}})).catch((function(){e.$emit("showDialog",{messages:["Bir Hata olustu lutfen tekrar deneyiniz"]})}))}}},te=ee,ae=(a("dbcb"),a("62ad")),ie=a("a523"),se=a("0fd9"),re=Object(u["a"])(te,A,W,!1,null,"3c87a620",null),ne=re.exports;O()(re,{VBtn:I["a"],VCol:ae["a"],VContainer:ie["a"],VRow:se["a"],VTextField:M["a"]});var oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("div",{staticClass:"preview"},[a("div",{staticClass:"preview__btns text-center"},[a("v-icon",[e._v(" mdi-checkbox-marked-circle ")]),a("div",[a("b",[e._v("Rezervasyon kaydiniz alinmistir")])]),a("div",[e._v(" Rezervasyon ozetiniz asagidaki gibidir, Rezervasyon kaydinizda degisiklik veya "),a("br"),e._v(" yeni Rezervasyon yapmak icin asagidaki linkleri kullanabilirsiniz ")]),a("div",[a("v-btn",{staticClass:"pa-3 ma-3",attrs:{color:"primary",elevation:"2"},on:{click:e.newReservation}},[e._v("Yeni Rezervasyon Yap")]),a("v-btn",{staticClass:"pa-3 ma-3",attrs:{color:"primary",elevation:"2"},on:{click:e.updateReservation}},[e._v("Rezervasyonu guncelle")]),a("v-btn",{staticClass:"pa-3 ma-3",attrs:{color:"primary",elevation:"2"},on:{click:function(t){e.dialog=!0}}},[e._v("Rezervasyonu iptal et")])],1)],1),a("div",{staticClass:"preview__details mt-4"},[a("div",{staticClass:"preview-details__title"},[a("b",[e._v(e._s(e.hotelName)+" ")]),e._v(" ("+e._s(e.cityName)+") ")]),a("div",{staticClass:"checkout__details d-flex text-center"},[a("div",{staticClass:"preview__box"},[a("b",[e._v(" Giris Tarihi:")]),e._v(" "),a("br"),a("span",[e._v(e._s(e.reservationDetails.start_date))])]),a("div",{staticClass:"preview__box"},[a("b",[e._v("Cikis Tarihi:")]),e._v(" "),a("br"),a("span",[e._v(e._s(e.reservationDetails.end_date))])]),a("div",{staticClass:"preview__box"},[a("b",[e._v("Yetiskin: ")]),e._v(" "),a("br"),a("span",[e._v(e._s(e.reservationDetails.adult))])]),a("div",{staticClass:"preview__box"},[a("b",[e._v("Cocuk: ")]),e._v(" "),a("br"),a("span",[e._v(e._s(e.reservationDetails.child))])]),a("div",{staticClass:"preview__box"},[a("b",[e._v("Oda tipi: ")]),e._v(" "),a("br"),a("span",[e._v(e._s(e.roomTitle))])]),a("div",{staticClass:"preview__box"},[a("b",[e._v("Manzara: ")]),e._v(" "),a("br"),a("span",[e._v(e._s(e.scenicTitle))])])]),a("div",{staticClass:"preview__price-details pb-2 mt-2"},[a("div",{staticClass:"py-1 d-flex justify-space-between"},[a("b",[e._v("Oda Fiyati:")]),a("span",[e._v(e._s(e.$helpers.formatCurrency(e.roomUnitPrice)))])]),a("div",{staticClass:"py-1 d-flex justify-space-between"},[a("b",[e._v("Fiyat Etki Orani:")]),a("span",[e._v("%"+e._s(e.rate)+" ")])]),a("div",{staticClass:"py-1 d-flex justify-space-between"},[a("b",[e._v("Konaklama ("+e._s(e.days)+" Gün):")]),a("span",[e._v(e._s(e.$helpers.formatCurrency(e.roomPriceWithDays)))])]),e.coupon?a("div",{staticClass:"py-1 d-flex justify-space-between"},[a("b",[e._v("indirim ("+e._s(e.coupon.code)+"):")]),a("span",[e._v("-"+e._s(e.$helpers.formatCurrency(e.coupon.discount_ammount)))])]):e._e(),a("div",{staticClass:"total-price text-center"},[a("b",[e._v("TOPLAM TUTAR")]),e._v(" "),a("br"),a("b",[e._v(" "+e._s(e.$helpers.formatCurrency(e.reservationDetails.price)))])])])])]),a("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",{staticClass:"d-flex flex-column justify-center pa-12"},[e._v(" Rezervasyonu iptal etmeğe eminmisiniz? "),a("div",{staticClass:"d-flex justify-space-between mt-4"},[a("v-btn",{attrs:{color:"success"},on:{click:e.deleteReservation}},[e._v("Evet")]),a("v-btn",{attrs:{color:"secondary"},on:{click:function(t){e.dialog=!1}}},[e._v("Hayır")])],1)])],1)],1)},ce=[],le={name:"Preview",data:function(){return{dialog:!1}},computed:Object(n["a"])(Object(n["a"])({},Object(h["b"])(["hotelName","cityName","roomTypes","roomScenics","cityName","roomTitle","scenicTitle","roomUnitPrice","rate","days","roomPriceWithDays"])),Object(h["c"])(["coupon","reservationDetails","reservedId"])),methods:{newReservation:function(){localStorage.removeItem("reservationDetails"),localStorage.removeItem("step"),this.$store.dispatch("setForms",{hotel_id:null,start_date:null,end_date:null,adult:0,child:0,room_type:null,room_scenic:null,card_name:"",card_number:"",card_date_month:"",card_date_year:"",card_cvv:"",price:0,coupon_code:""}),this.$store.commit("finishReservation",!1),this.$store.commit("isUpdate",!1),this.$store.commit("reservedId",null),this.$emit("toStep",1)},updateReservation:function(){this.$store.commit("finishReservation",!1),this.$store.commit("isUpdate",!0),this.$emit("toStep",1)},deleteReservation:function(){var e=this;S.deleteReservation(this.reservedId).then((function(){e.$emit("showDialog",{messages:["Rezervasyonunuz iptal edildi"]}),e.newReservation()}))}}},de=le,ue=(a("6ce1"),a("b0af")),ve=a("169a"),me=a("132d"),pe=Object(u["a"])(de,oe,ce,!1,null,"8e8853f0",null),_e=pe.exports;O()(pe,{VBtn:I["a"],VCard:ue["a"],VContainer:ie["a"],VDialog:ve["a"],VIcon:me["a"]});var he={name:"App",components:{Header:m,Hotels:Y,HotelDetails:L,Checkout:ne,Preview:_e},data:function(){return{steps:1,dialog:!1,dialogMessage:[],dialogSuccess:!1}},methods:{changeStep:function(e){this.steps=e},showDialog:function(e){this.dialogMessage=e.messages,this.dialogSuccess=!!e.dialogState&&e.dialogState,this.dialog=!0}},computed:Object(n["a"])({},Object(h["c"])(["finishReservation"])),watch:{steps:function(e){localStorage.setItem("step",e)}},created:function(){var e={hotel_id:null,start_date:null,end_date:null,adult:0,child:0,room_type:null,room_scenic:null,card_name:"",card_number:"",card_date_month:"",card_date_year:"",card_cvv:"",price:0,coupon_code:""},t=localStorage.getItem("reservationDetails");t&&(e=JSON.parse(t)),this.$store.dispatch("setForms",e);var a=localStorage.getItem("step");a&&(this.steps=Number(a))}},fe=he,be=(a("5c0b"),a("7496")),ge=a("99d9"),ye=a("ce7e"),Ce=a("7e85"),De=a("e516"),ke=a("9c54"),xe=a("56a4"),we=Object(u["a"])(fe,s,r,!1,null,null,null),Se=we.exports;O()(we,{VApp:be["a"],VBtn:I["a"],VCard:ue["a"],VCardText:ge["a"],VDialog:ve["a"],VDivider:ye["a"],VIcon:me["a"],VStepper:Ce["a"],VStepperContent:De["a"],VStepperHeader:ke["a"],VStepperItems:ke["b"],VStepperStep:xe["a"]});var Ne=a("f309");i["a"].use(Ne["a"]);var $e=new Ne["a"]({}),Te=a("2ef0");i["a"].use(h["a"]);var Oe=new h["a"].Store({state:{hotels:[],hotelDetails:[],coupon:null,selectedHotelName:"",rate:0,roomPriceWithDays:0,roomUnitPrice:0,roomPriceWithScenic:0,roomTitle:"",scenicTitle:"",finishReservation:!1,reservationDetails:{},reservedId:null,isUpdate:!1},mutations:{hotels:function(e,t){e.hotels=t},hotelDetails:function(e,t){e.hotelDetails=t},selectedHotel:function(e,t){e.selectedHotel=t},coupon:function(e,t){e.coupon=t},reservationDetails:function(e,t){Te["map"](t,(function(t,a){Te["set"](e.reservationDetails,a,t)}))},finishReservation:function(e,t){e.finishReservation=t},reservedId:function(e,t){e.reservedId=t},isUpdate:function(e,t){e.isUpdate=t},setForms:function(e,t){Te["map"](t,(function(t,a){i["a"].set(e.reservationDetails,a,t)}))}},actions:{getHotels:function(e,t){var a=e.commit;a("hotels",t)},hotelDetails:function(e,t){var a=e.commit;a("hotelDetails",t)},selectedHotel:function(e,t){var a=e.commit;a("selectedHotel",t)},coupons:function(e,t){var a=e.commit;a("coupons",t)},setForms:function(e,t){var a=e.commit;a("setForms",t)}},getters:{reservationDetails:function(e){return e.reservationDetails},hotelDetail:function(e){return Te["head"](Te["values"](Te["pickBy"](e.hotelDetails,(function(t){return t.id==e.reservationDetails.hotel_id}))))},hotelName:function(e){var t=Te["pickBy"](e.hotels,(function(t){return t.id==e.reservationDetails.hotel_id}));return Te["get"](Te["head"](Te["values"](t)),"hotel_name")},cityName:function(e,t){return t.hotelDetail?t.hotelDetail.city:null},roomTypes:function(e,t){return t.hotelDetail?t.hotelDetail.room_type:null},roomScenics:function(e,t){return t.hotelDetail?t.hotelDetail.room_scenic:null},days:function(e){var t=new Date(e.reservationDetails.end_date)-new Date(e.reservationDetails.start_date),a=t/36e5/24;return a},rate:function(e,t){var a=e.reservationDetails.room_scenic,i=Te["values"](Te["pickBy"](t.roomScenics,(function(e){return e.id==a})))[0];return Te["get"](i,"price_rate",0)},roomUnitPrice:function(e,t){var a=e.reservationDetails.room_type,i=Te["values"](Te["pickBy"](t.roomTypes,(function(e){return e.id==a})))[0];return Te["get"](i,"price",0)},roomPriceWithDays:function(e,t){return t.roomUnitPrice*t.days*e.reservationDetails.adult},roomPriceWithScenic:function(e,t){return parseInt(t.roomPriceWithDays*(t.rate/100)+t.roomPriceWithDays)},roomTitle:function(e,t){var a=e.reservationDetails.room_type,i=Te["values"](Te["pickBy"](t.roomTypes,(function(e){return e.id==a})))[0];return Te["get"](i,"title")},scenicTitle:function(e,t){var a=e.reservationDetails.room_scenic,i=Te["values"](Te["pickBy"](t.roomScenics,(function(e){return e.id==a})))[0];return Te["get"](i,"title")}}}),je={formatCurrency:function(e){var t=new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY",minimumFractionDigits:2}),a=t.format(Number(e));return a}},Ie=je;Object.defineProperty(i["a"].prototype,"_",{value:Te}),Object.defineProperty(i["a"].prototype,"$helpers",{value:Ie}),i["a"].config.productionTip=!1,new i["a"]({vuetify:$e,store:Oe,render:function(e){return e(Se)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";a("9c0c")},"6ce1":function(e,t,a){"use strict";a("20ac")},"885b":function(e,t,a){"use strict";a("b76b")},"9c0c":function(e,t,a){},ae52:function(e,t,a){},b76b:function(e,t,a){},bb80:function(e,t,a){"use strict";a("011e")},c2f4:function(e,t,a){"use strict";a("cf62")},cabc:function(e,t,a){},cf62:function(e,t,a){},dbcb:function(e,t,a){"use strict";a("cabc")}});
//# sourceMappingURL=app.69e6ee07.js.map